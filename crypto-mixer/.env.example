# =============================================================================
# Crypto Mixer - Переменные окружения (Пример)
# =============================================================================
# ВАЖНО: Скопируйте этот файл в .env и измените все значения!

# Общие настройки
NODE_ENV=development
LOG_LEVEL=info
SERVICE_NAME=crypto-mixer

# Базы данных PostgreSQL
DB_HOST=localhost
DB_PORT=5432
DB_NAME=cryptomixer
DB_USER=mixer_user
DB_PASSWORD=CHANGE_ME_SECURE_PASSWORD
DB_SSL=false
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=10000

# Репликация PostgreSQL
POSTGRES_REPLICATION_MODE=master
POSTGRES_REPLICATION_USER=replicator
POSTGRES_REPLICATION_PASSWORD=CHANGE_ME_REPLICATION_PASSWORD

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_DB=0
REDIS_KEY_PREFIX=mixer:
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=100

# RabbitMQ
RABBITMQ_URL=amqp://mixer:CHANGE_ME_RABBITMQ_PASSWORD@localhost:5672
RABBITMQ_PASSWORD=CHANGE_ME_RABBITMQ_PASSWORD
RABBITMQ_VHOST=/
RABBITMQ_EXCHANGE=mixer_exchange

# Безопасность и шифрование
JWT_SECRET=CHANGE_ME_JWT_SECRET_AT_LEAST_32_CHARS
ENCRYPTION_KEY=CHANGE_ME_ENCRYPTION_KEY_32_CHARS
SESSION_SECRET=CHANGE_ME_SESSION_SECRET
API_KEY_SECRET=CHANGE_ME_API_KEY_SECRET

# Порты сервисов
MIXER_API_PORT=3000
BLOCKCHAIN_SERVICE_PORT=3001
SCHEDULER_SERVICE_PORT=3002
WALLET_SERVICE_PORT=3003
MONITORING_SERVICE_PORT=3004
TOR_PROXY_PORT=3005
FRONTEND_PORT=8080
ADMIN_DASHBOARD_PORT=8081

# URL сервисов
MIXER_API_URL=http://localhost:3000
BLOCKCHAIN_SERVICE_URL=http://localhost:3001
SCHEDULER_SERVICE_URL=http://localhost:3002
WALLET_SERVICE_URL=http://localhost:3003
FRONTEND_URL=http://localhost:8080

# Bitcoin настройки
BTC_NODE_HOST=localhost
BTC_NODE_PORT=8332
BTC_RPC_USER=CHANGE_ME_BTC_RPC_USER
BTC_RPC_PASSWORD=CHANGE_ME_BTC_RPC_PASSWORD
BTC_NETWORK=testnet
BTC_WALLET_NAME=mixer_wallet
BTC_CONFIRMATIONS_REQUIRED=3

# Ethereum настройки
ETH_RPC_URL=https://sepolia.infura.io/v3/YOUR_INFURA_PROJECT_ID
ETH_CHAIN_ID=11155111
ETH_PRIVATE_KEY=CHANGE_ME_ETH_PRIVATE_KEY
ETH_CONFIRMATIONS_REQUIRED=12
ETH_GAS_LIMIT=21000
ETH_GAS_PRICE=20000000000

# Solana настройки
SOL_RPC_URL=https://api.devnet.solana.com
SOL_NETWORK=devnet
SOL_PRIVATE_KEY=CHANGE_ME_SOL_PRIVATE_KEY
SOL_CONFIRMATIONS_REQUIRED=32

# Tron настройки
TRON_API_URL=https://api.shasta.trongrid.io
TRON_NETWORK=shasta
TRON_PRIVATE_KEY=CHANGE_ME_TRON_PRIVATE_KEY
TRON_FULL_NODE=https://api.shasta.trongrid.io
TRON_SOLIDITY_NODE=https://api.shasta.trongrid.io
TRON_EVENT_SERVER=https://api.shasta.trongrid.io

# Tor настройки
TOR_ENABLED=false
TOR_PROXY_HOST=localhost
TOR_PROXY_PORT=9050
TOR_CONTROL_PORT=9051
TOR_CONTROL_PASSWORD=CHANGE_ME_TOR_PASSWORD

# Мониторинг
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_GRAFANA_PASSWORD
GRAFANA_DB_TYPE=postgres
GRAFANA_DB_HOST=localhost
GRAFANA_DB_NAME=grafana
GRAFANA_DB_USER=grafana
GRAFANA_DB_PASSWORD=CHANGE_ME_GRAFANA_DB_PASSWORD

# Loki настройки
LOKI_PORT=3100
LOKI_DATA_DIR=/var/lib/loki

# Kong API Gateway
KONG_DB_HOST=kong-database
KONG_DB_NAME=kong
KONG_DB_USER=kong
KONG_DB_PASSWORD=CHANGE_ME_KONG_DB_PASSWORD
KONG_ADMIN_API_PORT=8001
KONG_PROXY_PORT=8000

# HashiCorp Vault
VAULT_ENABLED=false
VAULT_ADDR=http://localhost:8200
VAULT_TOKEN=CHANGE_ME_VAULT_ROOT_TOKEN
VAULT_MOUNT_PATH=mixer
VAULT_KEY_PATH=keys

# HSM (Hardware Security Module)
HSM_ENABLED=false
HSM_TYPE=softhsm
HSM_PIN=CHANGE_ME_HSM_PIN
HSM_SLOT=0
HSM_LIBRARY_PATH=/usr/lib/softhsm/libsofthsm2.so

# Мастер ключи
MASTER_SEED=CHANGE_ME_MASTER_SEED_64_CHARS_HEX
MASTER_KEY=CHANGE_ME_MASTER_KEY_32_CHARS
DERIVATION_PATH=m/44'/0'/0'

# Лимиты и ограничения
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
MAX_MIX_AMOUNT_BTC=10
MIN_MIX_AMOUNT_BTC=0.001
MAX_MIX_AMOUNT_ETH=100
MIN_MIX_AMOUNT_ETH=0.01
MAX_OUTPUT_ADDRESSES=10
MIN_DELAY_HOURS=1
MAX_DELAY_HOURS=168

# Комиссии
MIX_FEE_PERCENTAGE=1.5
MIN_NETWORK_FEE_BTC=0.00001
MIN_NETWORK_FEE_ETH=0.001
PRIORITY_FEE_MULTIPLIER=1.5

# CORS и безопасность
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:8081
CORS_CREDENTIALS=true
TRUST_PROXY=false
HELMET_ENABLED=true

# Логирование
LOG_FORMAT=json
LOG_MAX_SIZE=100MB
LOG_MAX_FILES=10
LOG_DATE_PATTERN=YYYY-MM-DD
AUDIT_LOG_ENABLED=true
SECURITY_LOG_ENABLED=true

# Уведомления
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USER=CHANGE_ME_EMAIL
EMAIL_SMTP_PASSWORD=CHANGE_ME_EMAIL_PASSWORD
EMAIL_FROM=noreply@cryptomixer.com

# Алерты
ALERT_EMAIL=admin@cryptomixer.com
ALERT_SLACK_CHANNEL=#alerts
ALERT_TELEGRAM_BOT_TOKEN=CHANGE_ME_TELEGRAM_BOT_TOKEN
ALERT_TELEGRAM_CHAT_ID=CHANGE_ME_TELEGRAM_CHAT_ID

# Резервное копирование
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=mixer-backups
BACKUP_S3_REGION=us-east-1
BACKUP_S3_ACCESS_KEY=CHANGE_ME_S3_ACCESS_KEY
BACKUP_S3_SECRET_KEY=CHANGE_ME_S3_SECRET_KEY

# Производственные настройки
CLUSTER_MODE=false
WORKER_PROCESSES=auto
GRACEFUL_SHUTDOWN_TIMEOUT=30000
HEALTH_CHECK_INTERVAL=30000
METRICS_COLLECTION_INTERVAL=60000

# SSL/TLS
SSL_ENABLED=false
SSL_CERT_PATH=/etc/ssl/certs/mixer.crt
SSL_KEY_PATH=/etc/ssl/private/mixer.key
SSL_CA_PATH=/etc/ssl/certs/ca.crt

# Разработка
DEV_MODE=true
HOT_RELOAD=true
DEBUG_ENABLED=true
PROFILING_ENABLED=false
MOCK_BLOCKCHAIN=true
MOCK_PAYMENTS=true

# Тестирование
TEST_DB_NAME=cryptomixer_test
TEST_REDIS_DB=1
TEST_TIMEOUT=30000
INTEGRATION_TESTS_ENABLED=false

# Docker настройки
DOCKER_REGISTRY=registry.cryptomixer.com
DOCKER_TAG=latest
DOCKER_COMPOSE_PROJECT_NAME=cryptomixer

# Kubernetes
K8S_NAMESPACE=crypto-mixer
K8S_SERVICE_ACCOUNT=mixer-service
K8S_CONFIG_MAP=mixer-config
K8S_SECRET=mixer-secrets